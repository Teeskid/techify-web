<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.30.1/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"
    integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"
    integrity="sha512-qZvrmS2ekKPF2mSznTQsxqPgnpkI4DNTlrdUmTzrDgektczlKNRRhy5X5AAOnx5S09ydFYWWNSfcEqDTTHgtNA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>
    function base64ToBlob(base64String, contentType = '') {
        const byteCharacters = atob(base64String);
        const byteArrays = [];

        for (let i = 0; i < byteCharacters.length; i++) {
            byteArrays.push(byteCharacters.charCodeAt(i));
        }

        const byteArray = new Uint8Array(byteArrays);
        return new Blob([byteArray], { type: contentType });
    }
    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("capturePDF").addEventListener("click", function () {
            const pdfJs = new jspdf();
            pdfJs.html(document.body, {
                callback: function (pdf) {
                    // Save the PDF to a file or display it
                    pdf.save("output.pdf");
                },
            });
        });
        document.getElementById("captureIMG").addEventListener("click", function () {
            html2canvas(document.body, {
                allowTaint: true,
                useCORS: true
            }).then((canvas) => {
                const result = canvas.toDataURL("image/png", 9)
                const content = URL.createObjectURL(base64ToBlob(result.split(",", 2)[1], "image/png"))
                const anchor = document.createElement("a")
                anchor.download = document.title + ".png"
                anchor.href = content
                anchor.click()
                setTimeout(function () {
                    URL.revokeObjectURL(content)
                    anchor.remove()
                }, 5000)
            }).catch((error) => {
                console.error(error)
            })
        });
    })
</script>
</body>

</html>